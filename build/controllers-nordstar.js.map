{"version":3,"sources":["controllers-nordstar.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","restrictSelectMealController","$scope","watchman","angular","directive","restrict","controllerAs","scope","restrictCount","orderInfo","mealMenu","service","bindToController","controller","2","./directives/restrictSelectMeal"],"mappings":"CAAA,WAAY,QAASA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAE,kBAAmBC,UAASA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,GAAGF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAQ,IAAI,GAAIL,GAAE,kBAAmBD,UAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,GAAE,MAAOJ,OAAOiB,GAAG,SAAST,EAAQU,EAAOJ,GACxe,YAqBA,SAASK,GAA6BC,EAAQC,IApB9CC,QAAQJ,OAAO,OAAOK,UAAU,qBAAsB,WAClD,OACIC,SAAU,IACVC,aAAc,KACdC,OACIC,cAAiB,IACjBC,UAAa,IACbC,SAAY,IACZC,QAAW,KAEfC,kBAAkB,EAClBC,WACI,kCAKZV,QAAQJ,OAAO,OAAOc,WAAW,gCAAiC,SAAU,WAAYb,SA4DlFc,GAAG,SAASzB,EAAQU,EAAOJ,GACjC,YACAN,GAAQ,qCAEL0B,kCAAkC,SAAS","file":"controllers-nordstar.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\nangular.module('app').directive('restrictMealSelect', function () {\n    return {\n        restrict: 'A',\n        controllerAs: 'vm',\n        scope: {\n            'restrictCount': '=',\n            'orderInfo': '=',\n            'mealMenu': '=',\n            'service': '='\n        },\n        bindToController: true,\n        controller:\n            'restrictSelectMealController'\n    }\n});\n\n\nangular.module('app').controller('restrictSelectMealController', ['$scope', 'watchman', restrictSelectMealController]);\n\n\nfunction restrictSelectMealController($scope, watchman) {\n    // var vm = this;\n    //\n    // vm.restrictSelect = false;\n    //\n    // $scope.$watchCollection(angular.bind(this, function () {\n    //     return vm.service;\n    // }, true), function (newServiceValue) {\n    //     console.log(newServiceValue.itemsByPassengerSegments);\n    //     _.forEach(newServiceValue.itemsByPassengerSegments, function (segment, id) {\n    //         _.forEach(segment, function (subgroup) {\n    //             var totalSelectedMealCountForPassenger = _.reduce(subgroup, function (result, subgroupItem) {\n    //\n    //                 return result + _.reduce(subgroupItem, function (sum, mealItem) {\n    //                     if (mealItem.alreadySelectedCount) {\n    //                         return sum + mealItem.alreadySelectedCount;\n    //                     } else {\n    //                         return sum;\n    //                     }\n    //                 }, 0);\n    //             }, 0);\n    //\n    //             if (totalSelectedMealCountForPassenger >= 2) {\n    //                 vm.restrictSelect = true;\n    //                 console.log(segment);\n    //                 restrcitMealSelect(segment);\n    //             }\n    //         })\n    //     });\n    // });\n    //\n    // // $scope.$watch(angular.bind(this, function () {\n    // //     return this.mealMenu;\n    // // }), function (newMealMenu) {\n    // //     if (vm.restrictSelect) {\n    // //         restrcitMealSelect();\n    // //     }\n    // // });\n    //\n    //\n    // function restrcitMealSelect(segment) {\n    //     _.forEach(vm.mealMenu, function (segment) {\n    //         if (segment) {\n    //             _.forEach(segment, function (mealItem) {\n    //                 mealItem.restrictSelect = true;\n    //             })\n    //         }\n    //     });\n    // }\n    //\n    // function restrictMealSelectForPassenger(id) {\n    //     var passenger = _.find(vm.orderInfo.passengers, function (passenger) {\n    //         return passenger.id === id\n    //     });\n    //     passenger.restrictMealSelect = true;\n    // }\n}\n},{}],2:[function(require,module,exports){\n\"use strict\";\nrequire('./directives/restrictSelectMeal');\n\n},{\"./directives/restrictSelectMeal\":1}]},{},[2]);\n"]}