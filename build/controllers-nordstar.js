!function(){function e(r,n,t){function c(i,u){if(!n[i]){if(!r[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(o)return o(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var s=n[i]={exports:{}};r[i][0].call(s.exports,function(e){var n=r[i][1][e];return c(n||e)},s,s.exports,e,r,n,t)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<t.length;i++)c(t[i]);return c}return e}()({1:[function(e,r,n){"use strict";function t(){function e(){t.canPlus&&(n(),t.onIncrease())}function r(){t.canMinus&&(n(),t.onDecrease())}function n(){t.count||(t.count=0),t.canPlus=t.count<t.limit&&!t.mealItem.restrictSelect,t.canMinus=t.count>0}var t=this;t.increase=e,t.decrease=r,n()}angular.module("app").component("mealServicePicker",{templateUrl:"components/meal-service-picker/meal-service-picker.html",controller:[t],controllerAs:"vm",bindings:{count:"=",mealItem:"=",limit:"=",onIncrease:"&",onDecrease:"&",locked:"="}})},{}],2:[function(e,r,n){"use strict";function t(e,r){function n(e){e&&_.forEach(e,function(e){_.forEach(e,function(e){e.restrictSelect=!0})})}var t=this;e.$watchCollection(angular.bind(this,function(){return t.service},!0),function(e){_.forEach(e.itemsByPassengerSegments,function(e,r){_.forEach(e,function(e){var r=_.reduce(e,function(e,r){return e+_.reduce(r,function(e,r){return r.alreadySelectedCount?e+r.alreadySelectedCount:e},0)},0);r>=2&&n(e)})})})}angular.module("app").directive("restrictMealSelect",function(){return{restrict:"A",controllerAs:"vm",scope:{restrictCount:"=",orderInfo:"=",mealMenu:"=",service:"="},bindToController:!0,controller:"restrictSelectMealController"}}),angular.module("app").controller("restrictSelectMealController",["$scope","watchman",t])},{}],3:[function(e,r,n){"use strict";e("./directives/restrictSelectMeal"),e("./components/meal-service-picker/meal-service-picker")},{"./components/meal-service-picker/meal-service-picker":1,"./directives/restrictSelectMeal":2}]},{},[3]);
//# sourceMappingURL=controllers-nordstar.js.map
