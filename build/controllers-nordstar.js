!function(){function e(r,t,n){function i(c,u){if(!t[c]){if(!r[c]){var a="function"==typeof require&&require;if(!u&&a)return a(c,!0);if(o)return o(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var f=t[c]={exports:{}};r[c][0].call(f.exports,function(e){var t=r[c][1][e];return i(t||e)},f,f.exports,e,r,t,n)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)i(n[c]);return i}return e}()({1:[function(e,r,t){"use strict";function n(e,r){e.$watch(angular.bind(this,function(){return this.orderInfo}),function(e){var t=_.find(e.editable_extra_services,{code:"meal"});t&&_.forEach(t.passengers,function(e){_.forEach(e.segments,function(t){var n=_.reduce(t.selectedExtraServices,function(e,r){return e+r.amount},0);if(n>2){var i=_.find(t.selectedExtraServices,function(e){return 2===e.amount}),o=i?i:t.selectedExtraServices[0];r.modifyExtraService({code:"meal",passenger_id:e.id,segment_id:t.id,subgroup:"cold",amount:o.amount-1,service_type:o.serviceType,rfisc:o.rfisc})}})})})}angular.module("app").directive("mealLimit",[function(){return{restrict:"A",scope:{orderInfo:"="},controller:"testCtrl",controllerAs:"vm",bindToController:!0}}]),angular.module("app").controller("testCtrl",["$scope","backend",n])},{}],2:[function(e,r,t){"use strict";e("./directives/mealLimitation")},{"./directives/mealLimitation":1}]},{},[2]);
//# sourceMappingURL=controllers-nordstar.js.map
